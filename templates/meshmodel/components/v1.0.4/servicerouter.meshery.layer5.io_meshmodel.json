{"kind":"ServiceRouter","apiVersion":"consul.hashicorp.com/v1alpha1","display-name":"Service Router","format":"JSON","metadata":{"logoUrl":"","primaryColor":"#D62783","svgColor":"\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\u003c!DOCTYPE svg\u003e    \u003csvg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\u003e    \u003cg clip-path=\"url(#clip0_33_35)\"\u003e        \u003cpath fill-rule=\"evenodd\" clip-rule=\"evenodd\"            d=\"M9.62579 12.1144C8.45509 12.1144 7.54449 11.1749 7.54449 9.9669C7.54449 8.7588 8.45509 7.8192 9.62579 7.8192C10.7965 7.8192 11.7071 8.7588 11.7071 9.9669C11.7071 11.1749 10.7965 12.1144 9.62579 12.1144Z\"            fill=\"white\" /\u003e        \u003cpath fill-rule=\"evenodd\" clip-rule=\"evenodd\"            d=\"M13.6907 10.9736C13.1705 10.9736 12.7151 10.5372 12.7151 9.9669C12.7151 9.4298 13.1378 8.9601 13.6907 8.9601C14.2109 8.9601 14.6664 9.3964 14.6664 9.9669C14.6664 10.5372 14.211 10.9734 13.6907 10.9734V10.9736ZM17.203 11.9128C17.0729 12.4495 16.5524 12.7512 16.0321 12.617C15.5119 12.4828 15.2191 11.9461 15.3492 11.4093C15.4793 10.8726 15.9995 10.5699 16.5199 10.7041C17.0069 10.8382 17.3325 11.3079 17.2347 11.8452C17.2347 11.8452 17.2347 11.8785 17.2024 11.912L17.203 11.9128ZM16.519 9.3617C15.9984 9.4958 15.4781 9.1602 15.3481 8.6232C15.218 8.0865 15.5431 7.5494 16.0635 7.4152C16.5837 7.281 17.104 7.6166 17.2341 8.1537C17.2666 8.2879 17.2666 8.422 17.2341 8.5562C17.2016 8.9255 16.9413 9.2609 16.5186 9.3617H16.519ZM19.9654 11.7776C19.8675 12.3144 19.3797 12.6837 18.8595 12.5831C18.3393 12.4823 17.9814 11.979 18.0792 11.4421C18.1766 10.9053 18.6644 10.536 19.1847 10.6366C19.6726 10.7373 20.0305 11.2071 19.998 11.7105C19.9657 11.744 19.9657 11.744 19.9657 11.7776H19.9654ZM19.1865 9.2956C18.6663 9.3964 18.1784 9.0273 18.0809 8.4903C17.9833 7.9536 18.341 7.45 18.8614 7.3494C19.3816 7.2488 19.8695 7.6178 19.967 8.1548C19.967 8.2554 19.9996 8.3225 19.967 8.4231C19.9345 8.8594 19.6093 9.2286 19.1865 9.2956ZM18.5036 15.2351C18.2435 15.7049 17.6581 15.8728 17.2028 15.6042C16.7476 15.3358 16.5849 14.7317 16.8452 14.262C17.1053 13.7922 17.6906 13.6243 18.1459 13.8929C18.4712 14.0942 18.6661 14.4633 18.6337 14.8325C18.6012 14.9667 18.5686 15.1008 18.5036 15.235V15.2351ZM18.1459 6.108C17.6906 6.3764 17.1053 6.2086 16.8452 5.7387C16.5851 5.2689 16.7476 4.6649 17.2028 4.3965C17.6581 4.1281 18.2434 4.2958 18.5036 4.7657C18.6012 4.9669 18.6337 5.1347 18.6337 5.336C18.6012 5.6381 18.4386 5.94 18.1459 6.1078\"            fill=\"white\" /\u003e        \u003cpath            d=\"M9.6583 20C7.0567 20 4.6503 18.9598 2.7967 17.0807C1.00811 15.1677 0 12.6503 0 9.9998C0 7.3149 1.00811 4.8319 2.82914 2.91891C4.6503 1.04024 7.0892 0 9.6583 0C11.8045 0 13.8533 0.70455 15.5443 2.04719L14.3415 3.65759C12.9756 2.58457 11.3495 2.014 9.6589 2.014C7.6102 2.014 5.659 2.85294 4.1956 4.3629C2.73288 5.873 1.9523 7.8529 1.9523 10.0003C1.9523 12.1144 2.76525 14.1278 4.2286 15.6378C5.692 17.1478 7.6108 17.9531 9.692 17.9531C11.4155 17.9531 13.0415 17.3827 14.3746 16.3089L15.5454 17.9192C13.8545 19.2611 11.8058 19.9996 9.6594 19.9996L9.6583 20Z\"            fill=\"white\" /\u003e    \u003c/g\u003e    \u003cdefs\u003e        \u003cclipPath id=\"clip0_33_35\"\u003e            \u003crect width=\"20\" height=\"20\" fill=\"white\" /\u003e        \u003c/clipPath\u003e    \u003c/defs\u003e\u003c/svg\u003e","svgWhite":"\u003csvg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\u003e\u003cg clip-path=\"url(#a)\" fill=\"#fff\"\u003e\u003cpath fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15.401 19.383c-1.873 0-3.33-1.503-3.33-3.436s1.457-3.436 3.33-3.436 3.33 1.503 3.33 3.436-1.457 3.436-3.33 3.436Zm6.504-1.825c-.832 0-1.56-.698-1.56-1.611 0-.86.675-1.61 1.56-1.61.832 0 1.561.697 1.561 1.61 0 .913-.728 1.61-1.56 1.61Zm5.62 1.503a1.516 1.516 0 0 1-1.874 1.126c-.832-.214-1.3-1.073-1.092-1.932a1.516 1.516 0 0 1 1.873-1.128c.779.214 1.3.966 1.144 1.825 0 0 0 .054-.052.107v.002Zm-1.095-4.082c-.833.214-1.665-.323-1.873-1.182a1.604 1.604 0 0 1 1.145-1.933c.832-.215 1.664.323 1.872 1.182.052.215.052.43 0 .644-.052.59-.468 1.128-1.144 1.289Zm5.515 3.865c-.157.859-.938 1.45-1.77 1.289a1.574 1.574 0 0 1-1.248-1.826c.155-.858.936-1.45 1.768-1.288.781.16 1.354.912 1.302 1.718-.052.053-.052.053-.052.107Zm-1.247-3.971c-.832.161-1.613-.43-1.769-1.288a1.575 1.575 0 0 1 1.25-1.826c.832-.161 1.612.43 1.768 1.289 0 .16.052.268 0 .429-.052.698-.572 1.289-1.249 1.396Zm-1.092 9.503c-.416.752-1.353 1.02-2.082.59-.728-.429-.988-1.395-.572-2.147.416-.752 1.353-1.02 2.081-.59.52.322.833.912.78 1.503-.051.215-.103.43-.207.644Zm-.573-14.603c-.728.43-1.665.16-2.08-.591-.417-.752-.157-1.718.572-2.148.728-.43 1.664-.16 2.08.591.157.322.209.59.209.913-.052.483-.312.966-.78 1.235\"/\u003e\u003cpath d=\"M15.453 32c-4.162 0-8.013-1.664-10.978-4.67A16.56 16.56 0 0 1 0 16c0-4.296 1.613-8.27 4.527-11.33C7.44 1.664 11.343 0 15.453 0c3.434 0 6.712 1.127 9.418 3.276l-1.924 2.576c-2.186-1.717-4.788-2.63-7.493-2.63-3.278 0-6.4 1.343-8.741 3.759-2.34 2.416-3.59 5.584-3.59 9.02 0 3.382 1.301 6.604 3.643 9.02 2.341 2.415 5.411 3.704 8.741 3.704 2.758 0 5.36-.913 7.492-2.63l1.874 2.576c-2.706 2.147-5.984 3.328-9.418 3.328l-.002.001Z\"/\u003e\u003c/g\u003e\u003cdefs\u003e\u003cclipPath id=\"a\"\u003e\u003cpath fill=\"#fff\" d=\"M0 0h32v32H0z\"/\u003e\u003c/clipPath\u003e\u003c/defs\u003e\u003c/svg\u003e","secondaryColor":"#ed74b4","shape":"circle"},"model":{"name":"CONSUL","version":"v1.0.4","model-display-name":"CONSUL","category":"Orchestration \u0026 Management","sub-category":"Service Mesh"},"schema":"{\n \"description\": \"ServiceRouterSpec defines the desired state of ServiceRouter.\",\n \"properties\": {\n  \"routes\": {\n   \"description\": \"Routes are the list of routes to consider when processing L7 requests. The first route to match in the list is terminal and stops further evaluation. Traffic that fails to match any of the provided routes will be routed to the default service.\",\n   \"items\": {\n    \"properties\": {\n     \"destination\": {\n      \"description\": \"Destination controls how to proxy the matching request(s) to a service.\",\n      \"properties\": {\n       \"namespace\": {\n        \"description\": \"Namespace is the Consul namespace to resolve the service from instead of the current namespace. If empty the current namespace is assumed.\",\n        \"type\": \"string\"\n       },\n       \"numRetries\": {\n        \"description\": \"NumRetries is the number of times to retry the request when a retryable result occurs\",\n        \"format\": \"int32\",\n        \"type\": \"integer\"\n       },\n       \"partition\": {\n        \"description\": \"Partition is the Consul partition to resolve the service from instead of the current partition. If empty the current partition is assumed.\",\n        \"type\": \"string\"\n       },\n       \"prefixRewrite\": {\n        \"description\": \"PrefixRewrite defines how to rewrite the HTTP request path before proxying it to its final destination. This requires that either match.http.pathPrefix or match.http.pathExact be configured on this route.\",\n        \"type\": \"string\"\n       },\n       \"requestHeaders\": {\n        \"description\": \"Allow HTTP header manipulation to be configured.\",\n        \"properties\": {\n         \"add\": {\n          \"additionalProperties\": {\n           \"type\": \"string\"\n          },\n          \"description\": \"Add is a set of name -\\u003e value pairs that should be appended to the request or response (i.e. allowing duplicates if the same header already exists).\",\n          \"type\": \"object\"\n         },\n         \"remove\": {\n          \"description\": \"Remove is the set of header names that should be stripped from the request or response.\",\n          \"items\": {\n           \"type\": \"string\"\n          },\n          \"type\": \"array\"\n         },\n         \"set\": {\n          \"additionalProperties\": {\n           \"type\": \"string\"\n          },\n          \"description\": \"Set is a set of name -\\u003e value pairs that should be added to the request or response, overwriting any existing header values of the same name.\",\n          \"type\": \"object\"\n         }\n        },\n        \"type\": \"object\"\n       },\n       \"requestTimeout\": {\n        \"description\": \"RequestTimeout is the total amount of time permitted for the entire downstream request (and retries) to be processed.\",\n        \"type\": \"string\"\n       },\n       \"responseHeaders\": {\n        \"description\": \"HTTPHeaderModifiers is a set of rules for HTTP header modification that should be performed by proxies as the request passes through them. It can operate on either request or response headers depending on the context in which it is used.\",\n        \"properties\": {\n         \"add\": {\n          \"additionalProperties\": {\n           \"type\": \"string\"\n          },\n          \"description\": \"Add is a set of name -\\u003e value pairs that should be appended to the request or response (i.e. allowing duplicates if the same header already exists).\",\n          \"type\": \"object\"\n         },\n         \"remove\": {\n          \"description\": \"Remove is the set of header names that should be stripped from the request or response.\",\n          \"items\": {\n           \"type\": \"string\"\n          },\n          \"type\": \"array\"\n         },\n         \"set\": {\n          \"additionalProperties\": {\n           \"type\": \"string\"\n          },\n          \"description\": \"Set is a set of name -\\u003e value pairs that should be added to the request or response, overwriting any existing header values of the same name.\",\n          \"type\": \"object\"\n         }\n        },\n        \"type\": \"object\"\n       },\n       \"retryOnConnectFailure\": {\n        \"description\": \"RetryOnConnectFailure allows for connection failure errors to trigger a retry.\",\n        \"type\": \"boolean\"\n       },\n       \"retryOnStatusCodes\": {\n        \"description\": \"RetryOnStatusCodes is a flat list of http response status codes that are eligible for retry.\",\n        \"items\": {\n         \"format\": \"int32\",\n         \"type\": \"integer\"\n        },\n        \"type\": \"array\"\n       },\n       \"service\": {\n        \"description\": \"Service is the service to resolve instead of the default service. If empty then the default service name is used.\",\n        \"type\": \"string\"\n       },\n       \"serviceSubset\": {\n        \"description\": \"ServiceSubset is a named subset of the given service to resolve instead of the one defined as that service's DefaultSubset. If empty, the default subset is used.\",\n        \"type\": \"string\"\n       }\n      },\n      \"type\": \"object\"\n     },\n     \"match\": {\n      \"description\": \"Match is a set of criteria that can match incoming L7 requests. If empty or omitted it acts as a catch-all.\",\n      \"properties\": {\n       \"http\": {\n        \"description\": \"HTTP is a set of http-specific match criteria.\",\n        \"properties\": {\n         \"header\": {\n          \"description\": \"Header is a set of criteria that can match on HTTP request headers. If more than one is configured all must match for the overall match to apply.\",\n          \"items\": {\n           \"properties\": {\n            \"exact\": {\n             \"description\": \"Exact will match if the header with the given name is this value.\",\n             \"type\": \"string\"\n            },\n            \"invert\": {\n             \"description\": \"Invert inverts the logic of the match.\",\n             \"type\": \"boolean\"\n            },\n            \"name\": {\n             \"description\": \"Name is the name of the header to match.\",\n             \"type\": \"string\"\n            },\n            \"prefix\": {\n             \"description\": \"Prefix will match if the header with the given name has this prefix.\",\n             \"type\": \"string\"\n            },\n            \"present\": {\n             \"description\": \"Present will match if the header with the given name is present with any value.\",\n             \"type\": \"boolean\"\n            },\n            \"regex\": {\n             \"description\": \"Regex will match if the header with the given name matches this pattern.\",\n             \"type\": \"string\"\n            },\n            \"suffix\": {\n             \"description\": \"Suffix will match if the header with the given name has this suffix.\",\n             \"type\": \"string\"\n            }\n           },\n           \"required\": [\n            \"name\"\n           ],\n           \"type\": \"object\"\n          },\n          \"type\": \"array\"\n         },\n         \"methods\": {\n          \"description\": \"Methods is a list of HTTP methods for which this match applies. If unspecified all http methods are matched.\",\n          \"items\": {\n           \"type\": \"string\"\n          },\n          \"type\": \"array\"\n         },\n         \"pathExact\": {\n          \"description\": \"PathExact is an exact path to match on the HTTP request path.\",\n          \"type\": \"string\"\n         },\n         \"pathPrefix\": {\n          \"description\": \"PathPrefix is a path prefix to match on the HTTP request path.\",\n          \"type\": \"string\"\n         },\n         \"pathRegex\": {\n          \"description\": \"PathRegex is a regular expression to match on the HTTP request path.\",\n          \"type\": \"string\"\n         },\n         \"queryParam\": {\n          \"description\": \"QueryParam is a set of criteria that can match on HTTP query parameters. If more than one is configured all must match for the overall match to apply.\",\n          \"items\": {\n           \"properties\": {\n            \"exact\": {\n             \"description\": \"Exact will match if the query parameter with the given name is this value.\",\n             \"type\": \"string\"\n            },\n            \"name\": {\n             \"description\": \"Name is the name of the query parameter to match on.\",\n             \"type\": \"string\"\n            },\n            \"present\": {\n             \"description\": \"Present will match if the query parameter with the given name is present with any value.\",\n             \"type\": \"boolean\"\n            },\n            \"regex\": {\n             \"description\": \"Regex will match if the query parameter with the given name matches this pattern.\",\n             \"type\": \"string\"\n            }\n           },\n           \"required\": [\n            \"name\"\n           ],\n           \"type\": \"object\"\n          },\n          \"type\": \"array\"\n         }\n        },\n        \"type\": \"object\"\n       }\n      },\n      \"type\": \"object\"\n     }\n    },\n    \"type\": \"object\"\n   },\n   \"type\": \"array\"\n  }\n },\n \"title\": \"Service Router\",\n \"type\": \"object\"\n}"}